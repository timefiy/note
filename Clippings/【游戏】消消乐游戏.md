---
title: "【游戏】消消乐游戏"
source: "https://labuladong.online/zh/algo/game/match-three/"
author:
  - "[[labuladong]]"
published:
created: 2026-02-17
description: "本页面介绍了消消乐游戏的基本玩法，并使用算法来处理方块下坠的逻辑。"
tags:
  - "clippings"
---
在消消乐游戏中，玩家可以交换方块，当三个或三个以上相同的方块连在同一行或同一列时，它们就会被消除，然后上方方块会下坠填补空缺。

在本站配套的消消乐游戏中，请你实现 `applyGravity` 函数，完成这个方块下坠的逻辑。要求原地修改 `board` 数组，并避免直接在数组中间插入/删除元素。

消消乐游戏

## 讲解

这道题本质上是考察 [数组双指针技巧汇总](https://labuladong.online/zh/algo/essential-technique/array-two-pointers-summary/) 中的 `moveZeroes` 解法，使用快慢指针技巧将每一列方块的元素 0 移动到顶部。

参考解法如下：

```
// 游戏面板仅支持提交 JavaScript 代码

// 其他语言代码的作用是帮助大家理解算法逻辑

class Solution {

public:

    void applyGravity(vector<vector<int>>& board) {

        int rows = board.size();

        int cols = board[0].size();

        

        // 遍历每一列

        for (int col = 0; col < cols; col++) {

            // 初始化快慢指针

            int slow = rows - 1;

            int fast = rows - 1;

            

            while (fast >= 0) {

                if (board[fast][col] != 0) {

                    // 将非 0 元素移动到慢指针位置

                    board[slow][col] = board[fast][col];

                    slow--;

                }

                fast--;

            }

            

            // 将剩余的顶部位置填充为 0

            for (int i = 0; i <= slow; i++) {

                board[i][col] = 0;

            }

        }

    }

};
```

更新时间：2026/02/17 14:24

## 评论(4)

Markdown

Ctrl+Enter 发表

![Morning](https://thirdwx.qlogo.cn/mmopen/vi_32/OKcdBg67VzJ9kGQeRw1sxDpKNygYZ2ibpgKv7S5AUl6JbblkIdKUO0BLBc6ibuvYHfLY9dwAKzq8F13soqBdc16tROLThkJDkOqRWGGQiaKchE/132)

Morning 4 个月前

服了我自己了哈哈哈哈，消消乐当成连连看玩了半天，硬是以为游戏错了。。。。。。

![labuladong](https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKUUrMeBCJjuvHKjkDGparuRmYns8MHsWeCZza0OZerEZqUmazBMQrNKb942Tmmiad0svicOiadib8eicQ/132)

labuladong

labuladong 东哥 4 个月前

哈哈，连连看在后面

![relax](https://thirdwx.qlogo.cn/mmopen/vi_32/j23PEKZZ8lvF2deOCLVouOFKJlqBPpJmtQzJHb7Hl3nWwD8Zl2EohiaRNWHnSdNxnGLbtOKlcMNTEz7Ylm7AGA4bH1zvaUqfDHcW3pibKdYIw/132)

relax 5 个月前

```
def applyGravity(board):

    for i in range(len(board[0])):

        low = len(board) - 1

        fast = len(board) - 1

        while fast >= 0:

            if board[fast][i] != 0:

                board[low][i] , board[fast][i] = board[fast][i] , board[low][i]

                low -= 1

            fast -= 1
```

![鹏程万里](https://thirdwx.qlogo.cn/mmopen/vi_32/PiajxSqBRaELf1Kuo7icT7TTlO8Wzg2Wg1qyuVzBUAhQ1mysibej5Syq2jyqRN2tzJzq8Msxt5BmQbhSXzBK7yhYOiad7vnvMwMPp4z38Avuzx5WfsJlkXxlNQ/132)

鹏程万里 6 个月前

```
function applyGravity(board) {

    const rows = board.length;

    const cols = board[0].length;

    // 遍历每一列

    for (let col = 0; col < cols; col++) {

        // 初始化快慢指针

        let slow = rows - 1;

        let fast = rows - 1;

        while (fast >= 0) {

            if (board[fast][col] !== 0) {

                // 将非 0 元素移动到慢指针位置

                board[slow][col] = board[fast][col];

                slow--;

            }

            fast--;

        }

        // 将剩余的顶部位置填充为 0

        for (let i = 0; i <= slow; i++) {

            board[i][col] = 0;

        }

    }

}
```