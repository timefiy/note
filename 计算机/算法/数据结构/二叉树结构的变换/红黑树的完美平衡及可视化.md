---
title: "红黑树的完美平衡及可视化"
source: "https://labuladong.online/zh/algo/data-structure-basic/rbtree-basic/"
author:
  - "[[labuladong]]"
published:
created: 2026-02-06
description: "本文展示红黑树的完美平衡性质，对红黑树的增删查改操作进行可视化演示。红黑树在任何时候，每条树枝上的黑色节点个数都相同，保持完美平衡。"
tags:
  - "clippings"
---
一句话总结

红黑树是自平衡的二叉搜索树，它的树高在任何时候都能保持在 $O(\log N)$ （完美平衡），这样就能保证增删查改的时间复杂度都是 $O(\log N)$ 。

可视化面板支持创建红黑树：

算法可视化

[二叉搜索树的应用及可视化](https://labuladong.online/zh/algo/data-structure-basic/tree-map-basic/) 讲了普通的二叉搜索树存储键值对实现 `TreeMap/TreeSet` 的思路。

二叉搜索树的操作效率取决于树高，树结构越平衡，树高就接近 $\log N$ ，增删查改的效率就比较高。而普通二叉搜索树最关键的问题是它不会自动对树进行平衡，特殊的情况下会退化成链表，增删查改的时间复杂度退化为 $O(N)$ 。

下面这个可视化面板就是一个例子，如果插入若干个有序的键值对，你就能发现每次新增的键都会被插入到最右侧，导致这棵二叉搜索树退化成了链表：

算法可视化

**红黑树是一种经过优化的能够自平衡的二叉搜索树。任何时候，任何情况下，它的树高都能保持在 $O(\log N)$ （完美平衡），这样就能保证增删查改的时间复杂度都是 $O(\log N)$** 。

不过完美平衡的代价是代码实现比较复杂，本文不会深入红黑树的实现细节，而是通过算法可视化让你对红黑树有一个直观的认识。

具体的代码实现，我会更新在数据结构的设计章节的选学部分，因为红黑树确实不是必须掌握的数据结构，就算在工作和刷题中需要使用 `TreeMap/TreeSet` ，直接调用标准库就可以了，没必要有源码级的理解。

[可视化面板](https://labuladong.online/zh/algo/intro/visualize/) 支持创建和创建红黑树，支持基本的增删查改 `get, put, delete` 等功能。你可以打开下面的可视化面板进行如下操作：

1、代码会插入 30 个有序键值对，多次点击 `map.put` 这部分代码即可看到红黑树插入新节点的过程。

2、注意看红黑树会自动平衡树的高度，同样是插入有序的键值对，红黑树不会像普通二叉搜索树那样退化成链表。

3、你可以多次点击 `map.deleteMinKey()` 和 `map.deleteMaxKey()` 这部分代码来删除最小和最大的键值对，多次点击 `map.delete(i)` 这行代码，可以删除指定的键值对。

4、上述所有操作中，红黑树 **始终保持完美平衡** ，即从根节点到叶子节点的 **每一条树枝上的「黑色节点」个数完全相同** 。你可以认为红黑树中的红色节点属于辅助节点，且不会出现很多，所以计算树的高度时可以只考虑黑色节点。

算法可视化

你可以自行修改代码试一试，无论你怎么插入、删除，红黑树都能保持完美平衡，非常牛逼。

关于红黑树的实现细节，我会逐步更新到本站，大家敬请期待。

更新时间：2026/02/05 12:53

## 评论

Markdown

Ctrl+Enter 发表